% -*- coding: utf-8 -*-
% !TEX program = xelatex

%\documentclass[14pt]{article}
%\usepackage[notheorems]{beamerarticle}

\documentclass[14pt,notheorems,leqno,xcolor={rgb}]{beamer} % ignorenonframetext

\input{../common/theme.sty}
\input{../common/share.sty}
\input{../common/local.sty}

\occasion{高等数学第八章}
\title{第三节·平面及其方程}
\author{\href{https://lvjr.bitbucket.io}{吕荐瑞}}
\institute{暨南大学数学系}
\renewcommand<>{\section}[1]{\begin{frame}[plain]\titlepage\end{frame}}

\makeatletter
\beamer@tocsectionnumber=3\relax
\setcounter{section}{3}
\makeatother

\begin{document}
%\ifxetex\else\heiti\fi

\section{平面及其方程}

\subsection{平面的点法式方程}

\begin{frame}
\frametitle{平面的点法式方程}
设一平面通过已知点$M_0(x_0,y_0,z_0)$且垂直于非零向量$\vec{n}=(A,B,C)$，求该平面$\Pi$的方程。
\onslide<4->{\bold{\[A(x-x_0)+B(y-y_0)+C(z-z_0)=0\]}}
\vskip-1em
% TODO: 独立公式下边的垂直空隙有时太大，例如在下面有 columns 的时候
% 但这里似乎是由 tikzpicture 的 center 环境引起的
\begin{columns}[onlytextwidth]
\column{.65\textwidth}
\begin{itemize}
  \item<5-> 称它为平面的点法式方程，
  \item<6-> 称$\vec{n}$为平面的法向量。
\end{itemize}
\column{.35\textwidth}
\onslide<2->
%\begin{center}
\begin{tikzpicture}[scale=.6]
\draw[->] (0,0) -- (3,0) node[right] {$y$};
\draw[->] (0,0) -- (0,1.2) (0,1.8) -- (0,3.5) node[above] {$z$}; \draw[densely dashed] (0,1.2) -- (0,1.8);
\draw[->] (0,0) -- (-1,-1) node[right,below] {$x$};
\draw[thick] (-1,1.7) -- (1.9,.5) -- (3.4,1.7) -- (.5,2.9) -- cycle;
\draw[thick,->] (1.6,1.9) -- (1.9,3) node[above] {$\vec{n}$};
\onslide<3->{
\draw[thick,->,color=red!70!black] (1.3,1.2) node[inner sep=1pt,right] {\footnotesize$M_0$}
             -- (.5,2) node[inner sep=1pt,above] {\footnotesize$M$};}
\end{tikzpicture}
%\end{center}
\end{columns}
\end{frame}

\begin{frame}
\begin{example}
求过点$(2,-3,0)$且以$\vec{n}=(1,-2,3)$为法向量的平面的方程。
\end{example}
\vpause
\begin{example}
已知三个点坐标$M_1(2,-1,4)$, $M_2(-1,3,-2)$和$M_3(0,2,3)$，求过这三个点的平面的方程。
\end{example}
\end{frame}

\subsection{平面的一般方程}

\begin{frame}
\frametitle{平面的一般方程}
平面的点法式方程
\[A(x-x_0)+B(y-y_0)+C(z-z_0)=0\]
等价于平面的一般方程
\[Ax+By+Cz+D=0\]
\end{frame}

\begin{frame}
平面的一般方程为$Ax+By+Cz+D=0$。\pause
\begin{itemize}[<+->]
  \item $D=0$ 表示平面过原点
  \item[$\diamond$] $A=0$ 表示平面平行于$x$轴
  \item[$\diamond$] $B=0$ 表示平面平行于$y$轴
  \item[$\diamond$] $C=0$ 表示平面平行于$z$轴
  \item $A=B=0$ 表示平面平行于$xy$面
  \item $A=C=0$ 表示平面平行于$xz$面
  \item $B=C=0$ 表示平面平行于$yz$面
\end{itemize}
\end{frame}

\begin{frame}
\begin{example}
求通过$x$轴和点$(4,-3,-1)$的平面的方程。
\end{example}
\end{frame}

\begin{frame}
\begin{example}
设一平面与三个坐标轴的交点分别为$P(a,0,0)$、$Q(0,b,0)$、$R(0,0,c)$。求该平面的方程。
\end{example}
\begin{columns}[onlytextwidth]
\column{.55\textwidth}\onslide<3->
平面方程$\dfrac{x}a+\dfrac{y}b+\dfrac{z}c=1$\par\vspace{1em}
\onslide<4->{这称为平面的\bold{截距式方程}。}
\column{.45\textwidth}\onslide<2->
%\begin{center}
\hfill
\begin{tikzpicture}
\draw[densely dashed] (0,0) -- (2,0) node[above] {$b$}
    (0,0) -- (0,1.5) node[left] {$c$} (0,0) -- (-1,-1) node[below] {$a$};
\draw[->] (2,0) -- (2.5,0) node[right] {$y$};
\draw[->] (0,1.5) -- (0,2) node[above] {$z$};
\draw[->] (-1,-1) -- (-1.6,-1.6) node[below] {$x$};
\draw[thick,color=accent1] (2,0) -- (0,1.5) -- (-1,-1) -- cycle;
\end{tikzpicture}
%\end{center}
\end{columns}
\end{frame}

\subsection{两平面的夹角}

\begin{frame}
\frametitle{两平面的夹角}
\begin{columns}[onlytextwidth,c]
\column{.53\textwidth}
设平面$\Pi_1$和$\Pi_2$的法向量分别为$\vec{n}_1$和$\vec{n}_2$，则两平面的夹角$\theta$的余弦为\onslide<3->\\
\begin{center}$\cos\theta=\dfrac{|\vec{n}_1\cdot\vec{n}_2|}{|\vec{n}_1|\cdot|\vec{n}_2|}$\end{center}
\column{.45\textwidth}\hfill\onslide<2->
% 在 beamer column 中用 center 环境，会产生多余的纵向空白
%\begin{center}
\begin{tikzpicture}
\draw[fill=filler2] (-1.7,1) -- (-1.3,-1) -- (2.4,-1) -- (2,1) -- cycle;
\draw[fill=filler3] (-.2,1) -- (.2,-1) -- (1.8,1.2) -- (1.4,3.2) -- cycle;
\draw (-1,0) -- (0,0) (-.7,0.15) -| (-.55,0); \draw[densely dashed] (0,0) -- (.8,0);
\draw[thick,->] (-.7,0) -- (-.7,3) node[right] {$\vec{n}_1$};
\draw (0,0) -- (.8,1.1) (.52,.715) -- (.41,.795) -- (.49,.905);
\draw[thick,->] (.6,.825) -- (-.7,1.77) -- (-1.5,2.352) node[above] {$\vec{n}_2$};
\draw (.15,0) arc (0:50:.15) (-.7,1.92) arc (90:140:.15);
\node[color=accent1] at (.35,.2) {\footnotesize$\theta$};
\node[color=accent1] at (-.85,2.12) {\footnotesize$\theta$};
\node at (2.0,-.7) {$\Pi_1$}; \node at (1.4,1.3) {$\Pi_2$};
%\useasboundingbox (-2,-1) rectangle (2.5,3);
\end{tikzpicture}
%\end{center}
\end{columns}
\vspace{.5em}
\onslide<4->若$\vec{n}_1=(A_1,B_1,C_1)$，$\vec{n}_2=(A_2,B_2,C_2)$，\onslide<5->则有
$$\cos\theta=\frac{|A_1A_2+B_1B_2+C_1C_2|}{\sqrt{A_1^2+B_1^2+C_1^2}\cdot\sqrt{A_2^2+B_2^2+C_2^2}}$$
\end{frame}

\begin{frame}
\frametitle{两平面的夹角}
\hrule
$\begin{aligned}\Pi_1:\quad&\vec{n}_1=(A_1,B_1,C_1)\\\Pi_2:\quad&\vec{n}_2=(A_2,B_2,C_2)\end{aligned}$
\hfill$\cos\theta=\dfrac{|\vec{n}_1\cdot\vec{n}_2|}{|\vec{n}_1|\cdot|\vec{n}_2|}$
\hrule\pause\vspace{1em}
\begin{itemize}
  \item[] $\begin{aligned}\Pi_1\bot\Pi_2 &\Longleftrightarrow \vec{n}_1\bot\vec{n}_2\\
    &\Longleftrightarrow A_1A_2+B_1B_2+C_1C_2=0
    \end{aligned}$\pause
  \item[] $\begin{aligned}\Pi_1\parallel\Pi_2 &\Longleftrightarrow \vec{n}_1\parallel \vec{n}_2\\
    &\Longleftrightarrow \frac{A_1}{A_2}=\frac{B_1}{B_2}=\frac{C_1}{C_2}
    \end{aligned}$
\end{itemize}
\end{frame}

\begin{frame}
\begin{example}
求两平面$x-y+2z-6=0$和$2x+y+z-5=0$的夹角。
\end{example}
\vpause
\begin{example}
一平面通过两点$M_1(1,1,1)$和$M_2(0,1,-1)$且垂直于平面$x+y+z=0$，求它的方程。
\end{example}
\end{frame}

\begin{frame}
\begin{example}
设$P_0(x_0,y_0,z_0)$是平面$Ax+By+Cz+D=0$外一点，求$P_0$到该平面的距离。
\end{example}
\pause
\begin{columns}[onlytextwidth]
\column{0.4\textwidth}
%\begin{center}
\begin{tikzpicture}
\draw[fill=filler2] (0,0) -- (3.5,0) -- (4.5,2) -- (1,2) -- cycle;
\draw[thick,->] (1.5,.5) -- (2.8,.5) node[right] {$N$} -- (2.8,3.5) node[above] {$\vec{n}$};
\draw[thick,color=accent3,->] (1.5,.5) node[color=text1,left] {$P_1$}
    -- (2.8,3) node[color=text1,right] {$P_0$};
\draw[thick] (2.6,.5) |- (2.8,.7);
%\fill[color=red!60!yellow] (2.8,3) circle (.05);
\node[color=accent1] at (3.1,1.5) {$d$};
\end{tikzpicture}
%\end{center}
\column{0.6\textwidth}\pause\vspace{4em}
\[ \boxed{\bold{d=\frac{|Ax_0+By_0+Cz_0+D|}{\sqrt{A^2+B^2+C^2}}}} \]
\end{columns}
\end{frame}

\mybookmark{复习与提高}

\begin{frame}
\frametitle{复习与提高}
\begin{choice}
平面$\dfrac{x}{2}+\dfrac{y}{3}+\dfrac{z}{4}=1$与平面$2x+3y-4z=1$的位置关系是\dotfill(\qquad)
\begin{choicehalf}
  \item 相交但不垂直 ~
  \item 互相垂直 ~
  \item 平行但不重合 ~
  \item 互相重合 ~
\end{choicehalf}
\end{choice}
\end{frame}

\end{document}
